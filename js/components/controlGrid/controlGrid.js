class ControlGrid{componentEl=void 0;state={quantity:0,selectedIndex:0,theme:""};constructor(e,t,s,n=""){this.componentEl=e,this.state.quantity=t,this.state.selectedIndex=s,this.state.theme=n,this.init()}init(){this.render(this.componentEl,this.state.quantity,this.state.selectedIndex),this.addEventHandlers(this.componentEl)}render(e,t,s){if(e){e.setAttribute("role","tablist");let n="<span>01</span>",d=0;for(d=0;d<t;d++)n+=`<div class='control-box ${this.state.theme}' data-index=${d} type="button" role="tab" tabIndex=0></div>`;n+=`<span>0${d}</span>`,e.innerHTML=n,e.children[s+1].classList.add("selected");e.querySelectorAll(".control-box").forEach((e=>{e.onclick=e=>this.handleClick(e)}))}else console.error("No component element found.")}addEventHandlers(e){e.onkeydown=e=>{if("37"==(e=e||window.event).keyCode&&this.setIndex(this.state.selectedIndex-1,!0),"39"==e.keyCode&&this.setIndex(this.state.selectedIndex+1,!0),"13"==e.keyCode){const e=document.activeElement;if(e){const t=parseInt(e.dataset.index);Number.isInteger(t)&&this.setIndex(t,!0)}}}}handleClick(e){this.componentEl.querySelector(".selected").classList.remove("selected"),this.state.selectedIndex=parseInt(e.target.dataset.index),this.componentEl.children[this.state.selectedIndex+1].classList.add("selected"),this.dispatchIndexChanged(this.state.selectedIndex)}destroy(){this.componentEl.style.opacity=0}setIndex(e,t=!1){this.state.selectedIndex=e;const s=this.componentEl.querySelectorAll(".control-box");for(let t=0;t<s.length;t++)e==t?s[t].classList.add("selected"):s[t].classList.remove("selected");t&&this.dispatchIndexChanged(this.state.selectedIndex)}dispatchIndexChanged(e){const t=new CustomEvent("onindexchange",{bubbles:!0,detail:{index:e}});this.componentEl.dispatchEvent(t)}}